<!DOCTYPE html>
<html
        lang="en"
        xmlns:th="http://www.thymeleaf.org"
        xmlns="http://www.w3.org/1999/xhtml"
>
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>FrontEnd</title>
    <meta name="description" content="Ela Admin - HTML5 Admin Template" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link rel="apple-touch-icon" href="/images/logo.png" />
    <link rel="shortcut icon" href="/images/logo.png" />

    <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.0/normalize.min.css"
    />
    <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css"
    />
    <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"
    />
    <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/gh/lykmapipo/themify-icons@0.1.2/css/themify-icons.css"
    />
    <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/pixeden-stroke-7-icon@1.2.3/pe-icon-7-stroke/dist/pe-icon-7-stroke.min.css"
    />
    <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.2.0/css/flag-icon.min.css"
    />

    <link th:href="@{/assets/css/cs-skin-elastic.css}" rel="stylesheet" />
    <link th:href="@{/assets/css/style.css}" rel="stylesheet" />
    <link th:href="@{/assets/css/login/bootstrap.css}" rel="stylesheet" />

    <link th:href="@{/assets/css/style2.css}" rel="stylesheet" />
    <link th:href="@{/assets/css/normalize.css}" rel="stylesheet" />
    <link th:href="@{/assets/css/vendor.css}" rel="stylesheet" />

    <link th:href="@{/assets/css/home.css}" rel="stylesheet" />
    <link th:href="@{/assets/css/product.css}" rel="stylesheet" />

    <link
            rel="stylesheet"
            type="text/css"
            href="/assets/css/login/bootstrap.css"
            th:href="@{/assets/css/login/bootstrap.css}"
    />
    <link
            href="https://cdn.jsdelivr.net/npm/chartist@0.11.0/dist/chartist.min.css"
            rel="stylesheet"
    />
    <link
            href="https://cdn.jsdelivr.net/npm/jqvmap@1.5.1/dist/jqvmap.min.css"
            rel="stylesheet"
    />

    <link
            href="https://cdn.jsdelivr.net/npm/weathericons@2.1.0/css/weather-icons.css"
            rel="stylesheet"
    />
    <link
            href="https://cdn.jsdelivr.net/npm/fullcalendar@3.9.0/dist/fullcalendar.min.css"
            rel="stylesheet"
    />

    <link
            href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/css/bootstrap.min.css"
            rel="stylesheet"
    />
    <link
            href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css"
            rel="stylesheet"
    />

    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css"
            rel="stylesheet"
    />


    <script
            src="https://kit.fontawesome.com/8f73a47761.js"
            crossorigin="anonymous"
    ></script>

    <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@2.2.4/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.4/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-match-height@0.7.2/dist/jquery.matchHeight.min.js"></script>

    <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="/assets/js/main.js"></script>
    <style>
        .btn {
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            background-color: #e67e22;
            color: white;
            transition: background-color 0.3s;
        }

        .btn i {
            margin-right: 5px;
        }

        .btn:hover {
            background-color: #45a049;
        }

        .buy-now{
            background-color: #f39c12;
            color: white;
        }
        .buy-now:hover{
            background-color:  #e67e22;
            color: white;
        }
    </style>

    <style>
        .color-buttons button{
            width: auto;
            height: 50px;
            margin-right: 10px;
            border-radius: 5px;
            cursor: pointer;
            transition: transform 0.3s;
            border: 1px solid #777;
            background: white;
            color: black;
        }
        .color-buttons .selected{
            border: 1px solid #f00;
            color: red;
        }
    </style>
    <style>
        .address-class {
            background-color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
        }

        .change-address {
            margin-left: auto;
            color: #0A68FF;
        }
    </style>

    <style>
        .table-borderless tbody tr td, .table-borderless tbody tr th,
        .table-borderless thead tr th {
            border: none;
        }

        .table-borderless tbody tr th{
            justify-content: center;
        }
        .table-borderless tbody tr td, .table-borderless tbody tr th{
            align-content: center;
        }

        .img-thumbnail {
            max-width: 100%;
            height: auto;
        }

        .input-group {
            width: 100px;
        }


        .quantity-controls {
            display: flex;
            align-items: center;
        }

        .quantity-controls .quantity-btn {
            width: 30px;
            height: 30px;
            border: none;
            cursor: pointer;
            font-size: 18px;
            text-align: center;
        }

        .quantity-controls #quantity-input {
            width: 50px;
            height: 30px;
            text-align: center;
            border: 1px solid #ddd;
            margin: 0 5px;
        }

        /* Giới hạn chiều rộng của cột sản phẩm */
        .product-column {
            width: 600px; /* Chỉnh lại giá trị này theo ý muốn */
        }
        .number-column{
            width: 80px;
            text-align: right;
        }
        .total-column{
            width: 150px;
            text-align: right;
        }

    </style>

    <style>
        /* Modal styles */
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgb(0,0,0); /* Fallback color */
            background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
        }

        .modal-content {
            background-color: #fefefe;
            margin: 15% auto; /* 15% from the top and centered */
            padding: 20px;
            border: 1px solid #888;
            width: 60%; /* Could be more or less, depending on screen size */
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
    </style>
    <style>
        .choose-address a:hover{
            color: #0A68FF;
            cursor: pointer;
        }
    </style>
</head>
<body style="background: #f4f4f4">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none">
    <defs>
        <symbol id="facebook" viewBox="0 0 24 24">
            <path
                    fill="currentColor"
                    d="M12 2.04c-5.5 0-10 4.49-10 10.02c0 5 3.66 9.15 8.44 9.9v-7H7.9v-2.9h2.54V9.85c0-2.51 1.49-3.89 3.78-3.89c1.09 0 2.23.19 2.23.19v2.47h-1.26c-1.24 0-1.63.77-1.63 1.56v1.88h2.78l-.45 2.9h-2.33v7a10 10 0 0 0 8.44-9.9c0-5.53-4.5-10.02-10-10.02"
            />
        </symbol>
        <symbol id="youtube" viewBox="0 0 24 24">
            <path
                    fill="currentColor"
                    d="m10 15l5.19-3L10 9zm11.56-7.83c.13.47.22 1.1.28 1.9c.07.8.1 1.49.1 2.09L22 12c0 2.19-.16 3.8-.44 4.83c-.25.9-.83 1.48-1.73 1.73c-.47.13-1.33.22-2.65.28c-1.3.07-2.49.1-3.59.1L12 19c-4.19 0-6.8-.16-7.83-.44c-.9-.25-1.48-.83-1.73-1.73c-.13-.47-.22-1.1-.28-1.9c-.07-.8-.1-1.49-.1-2.09L2 12c0-2.19.16-3.8.44-4.83c.25-.9.83-1.48 1.73-1.73c.47-.13 1.33-.22 2.65-.28c1.3-.07 2.49-.1 3.59-.1L12 5c4.19 0 6.8.16 7.83.44c.9.25 1.48.83 1.73 1.73"
            />
        </symbol>
        <symbol id="instagram" viewBox="0 0 24 24">
            <path
                    fill="currentColor"
                    d="M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4zm9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8A1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5a5 5 0 0 1-5 5a5 5 0 0 1-5-5a5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3a3 3 0 0 0 3 3a3 3 0 0 0 3-3a3 3 0 0 0-3-3"
            />
        </symbol>
        <symbol id="twitter" viewBox="0 0 24 24">
            <path
                    fill="currentColor"
                    d="M22.46 6c-.77.35-1.6.58-2.46.69c.88-.53 1.56-1.37 1.88-2.38c-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29c0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15c0 1.49.75 2.81 1.91 3.56c-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07a4.28 4.28 0 0 0 4 2.98a8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21C16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56c.84-.6 1.56-1.36 2.14-2.23"
            />
        </symbol>
        <symbol id="linkedin" viewBox="0 0 24 24">
            <path
                    fill="currentColor"
                    d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2zm-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93zM6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37z"
            />
        </symbol>
        <symbol id="fitness" viewBox="0 0 24 24">
            <path
                    fill="currentColor"
                    d="M20.57 14.86L22 13.43L20.57 12L17 15.57L8.43 7L12 3.43L10.57 2L9.14 3.43L7.71 2L5.57 4.14L4.14 2.71L2.71 4.14l1.43 1.43L2 7.71l1.43 1.43L2 10.57L3.43 12L7 8.43L15.57 17L12 20.57L13.43 22l1.43-1.43L16.29 22l2.14-2.14l1.43 1.43l1.43-1.43l-1.43-1.43L22 16.29z"
            />
        </symbol>
        <symbol id="laptop" viewBox="0 0 24 24">
            <path
                    fill="currentColor"
                    d="M4 6h16v10H4m16 2a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H4c-1.11 0-2 .89-2 2v10a2 2 0 0 0 2 2H0v2h24v-2z"
            />
        </symbol>
        <symbol id="camera" viewBox="0 0 24 24">
            <path
                    fill="currentColor"
                    d="M4 4h3l2-2h6l2 2h3a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2m8 3a5 5 0 0 0-5 5a5 5 0 0 0 5 5a5 5 0 0 0 5-5a5 5 0 0 0-5-5m0 2a3 3 0 0 1 3 3a3 3 0 0 1-3 3a3 3 0 0 1-3-3a3 3 0 0 1 3-3"
            />
        </symbol>
        <symbol id="handshake" viewBox="0 0 24 24">
            <path
                    fill="currentColor"
                    d="M21.71 8.71c1.25-1.25.68-2.71 0-3.42l-3-3c-1.26-1.25-2.71-.68-3.42 0L13.59 4H11C9.1 4 8 5 7.44 6.15L3 10.59v4l-.71.7c-1.25 1.26-.68 2.71 0 3.42l3 3c.54.54 1.12.74 1.67.74c.71 0 1.36-.35 1.75-.74l2.7-2.71H15c1.7 0 2.56-1.06 2.87-2.1c1.13-.3 1.75-1.16 2-2C21.42 14.5 22 13.03 22 12V9h-.59zM20 12c0 .45-.19 1-1 1h-1v1c0 .45-.19 1-1 1h-1v1c0 .45-.19 1-1 1h-4.41l-3.28 3.28c-.31.29-.49.12-.6.01l-2.99-2.98c-.29-.31-.12-.49-.01-.6L5 15.41v-4l2-2V11c0 1.21.8 3 3 3s3-1.79 3-3h7zm.29-4.71L18.59 9H11v2c0 .45-.19 1-1 1s-1-.55-1-1V8c0-.46.17-2 2-2h3.41l2.28-2.28c.31-.29.49-.12.6-.01l2.99 2.98c.29.31.12.49.01.6"
            />
        </symbol>
        <symbol id="speakerphone" viewBox="0 0 24 24">
            <path
                    fill="currentColor"
                    d="M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.84-5 6.7v2.07c4-.91 7-4.49 7-8.77c0-4.28-3-7.86-7-8.77M16.5 12c0-1.77-1-3.29-2.5-4.03V16c1.5-.71 2.5-2.24 2.5-4M3 9v6h4l5 5V4L7 9z"
            />
        </symbol>
        <symbol id="pencil-box" viewBox="0 0 24 24">
            <path
                    fill="currentColor"
                    d="M19 19V5H5v14zm0-16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2zm-2.3 6.35l-1 1l-2.05-2.05l1-1c.21-.22.56-.22.77 0l1.28 1.28c.22.21.22.56 0 .77M7 14.94l6.06-6.06l2.06 2.06L9.06 17H7z"
            />
        </symbol>
        <symbol id="tick-circle" viewBox="0 0 15 15">
            <path
                    fill="currentColor"
                    fill-rule="evenodd"
                    d="M0 7.5a7.5 7.5 0 1 1 15 0a7.5 7.5 0 0 1-15 0m7.072 3.21l4.318-5.398l-.78-.624l-3.682 4.601L4.32 7.116l-.64.768z"
                    clip-rule="evenodd"
            />
        </symbol>
        <symbol id="clock" viewBox="0 0 24 24">
            <path
                    fill="currentColor"
                    d="M15.098 12.634L13 11.423V7a1 1 0 0 0-2 0v5a1 1 0 0 0 .5.866l2.598 1.5a1 1 0 1 0 1-1.732M12 2a10 10 0 1 0 10 10A10.011 10.011 0 0 0 12 2m0 18a8 8 0 1 1 8-8a8.01 8.01 0 0 1-8 8"
            />
        </symbol>
        <symbol id="arrow-circle-right" viewBox="0 0 24 24">
            <path
                    fill="currentColor"
                    d="M15.71 12.71a1 1 0 0 0 .21-.33a1 1 0 0 0 0-.76a1 1 0 0 0-.21-.33l-3-3a1 1 0 0 0-1.42 1.42l1.3 1.29H9a1 1 0 0 0 0 2h3.59l-1.3 1.29a1 1 0 0 0 0 1.42a1 1 0 0 0 1.42 0ZM22 12a10 10 0 1 0-10 10a10 10 0 0 0 10-10M4 12a8 8 0 1 1 8 8a8 8 0 0 1-8-8"
            />
        </symbol>
        <symbol id="search" viewBox="0 0 24 24">
            <path
                    fill="currentColor"
                    d="M21.71 20.29L18 16.61A9 9 0 1 0 16.61 18l3.68 3.68a1 1 0 0 0 1.42 0a1 1 0 0 0 0-1.39M11 18a7 7 0 1 1 7-7a7 7 0 0 1-7 7"
            />
        </symbol>
        <symbol id="user-circle" viewBox="0 0 24 24">
            <path
                    fill="currentColor"
                    d="M12 2a10 10 0 0 0-7.35 16.76a10 10 0 0 0 14.7 0A10 10 0 0 0 12 2m0 18a8 8 0 0 1-5.55-2.25a6 6 0 0 1 11.1 0A8 8 0 0 1 12 20m-2-10a2 2 0 1 1 2 2a2 2 0 0 1-2-2m8.91 6A8 8 0 0 0 15 12.62a4 4 0 1 0-6 0A8 8 0 0 0 5.09 16A7.92 7.92 0 0 1 4 12a8 8 0 0 1 16 0a7.92 7.92 0 0 1-1.09 4"
            />
        </symbol>
        <symbol id="shopping-bag" viewBox="0 0 24 24">
            <path
                    fill="currentColor"
                    d="M19 7h-3V6a4 4 0 0 0-8 0v1H5a1 1 0 0 0-1 1v11a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V8a1 1 0 0 0-1-1m-9-1a2 2 0 0 1 4 0v1h-4Zm8 13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V9h2v1a1 1 0 0 0 2 0V9h4v1a1 1 0 0 0 2 0V9h2Z"
            />
        </symbol>
        <symbol id="heart" viewBox="0 0 24 24">
            <path
                    fill="currentColor"
                    d="M20.16 5A6.29 6.29 0 0 0 12 4.36a6.27 6.27 0 0 0-8.16 9.48l6.21 6.22a2.78 2.78 0 0 0 3.9 0l6.21-6.22a6.27 6.27 0 0 0 0-8.84m-1.41 7.46l-6.21 6.21a.76.76 0 0 1-1.08 0l-6.21-6.24a4.29 4.29 0 0 1 0-6a4.27 4.27 0 0 1 6 0a1 1 0 0 0 1.42 0a4.27 4.27 0 0 1 6 0a4.29 4.29 0 0 1 .08 6Z"
            />
        </symbol>
        <symbol id="logout" viewBox="0 0 24 24">
            <path
                    fill="currentColor"
                    d="M16 13v-2H7v-2h9V7l4 4-4 4zm-5 7h2v-2H9v-2H7v2c0 1.1.9 2 2 2zm8-6v-1h-4v-2h4V8h-2V6h2c1.1 0 2 .9 2 2v6c0 1.1-.9 2-2 2h-2v-2h2zM5 6c0-1.1.9-2 2-2h2v2H7v2H5V6zm0 6v2h2v2h2v2H7c-1.1 0-2-.9-2-2v-4z"
            />
        </symbol>
    </defs>
</svg>
<!--Begin: Header-->
<div th:replace="~{common/header :: header}"></div>
<!--End: Footer-->

<!--Begin: Content-->
<div
        class="container content"
        style="
        height: auto;
        width: 100%;
        margin: auto;
      "
>
    <!--Start: Content-->

    <div class="table-responsive" style="margin-bottom: 10px;">
        <div class="address-class">
            <div style="margin: 5px">
                <h5 style="color:red; margin-bottom: 20px;">
                    <i class="fas fa-map-marker-alt" style="margin-right: 5px;"></i>
                    Địa chỉ nhận hàng
                </h5>
                <p id="default-address" style="margin: 0; display: flex; gap: 30px; color:#000;">
                    <strong id="default-fullname" th:text="${defaultAddress.getFullName()} + ' * ' + ${defaultAddress.getPhoneNumber()}"></strong>
                    <span id="default-address-detail" th:text="${defaultAddress.getWard()} + ', ' + ${defaultAddress.getDistrict()}  + ', ' + ${defaultAddress.getCity()}"></span>
                </p>
            </div>
            <div class="choose-address">
                <a class="change-address add">Thêm địa chỉ | </a>
                <a class="change-address change"> Thay đổi</a>
            </div>

        </div>
    </div>

    <div id="address-form" style="display: none;">
        <h5 id="form-title">Thêm địa chỉ mới</h5>
        <form id="address-form-element" th:action="@{/address/add}" method="post">
            <input type="hidden" id="address-id" name="id" />
            <div class="form-group">
                <label for="fullName">Họ tên</label>
                <input type="text" class="form-control" id="fullName" name="fullName" required placeholder="Họ tên..." />
            </div>
            <div class="form-group">
                <label for="ward">Số nhà/ Đường</label>
                <input type="text" class="form-control" id="ward" name="ward" required placeholder="Số nhà/ Đường..." />
            </div>
            <div class="form-group">
                <label for="district">Quận/ Huyện</label>
                <input type="text" class="form-control" id="district" name="district" required placeholder="Quận/ Huyện..." />
            </div>
            <div class="form-group">
                <label for="city">Tỉnh/ Thành phố</label>
                <input type="text" class="form-control" id="city" name="city" required placeholder="Tỉnh/ Thành phố..." />
            </div>
            <div class="form-group">
                <label for="phoneNumber">Số điện thoại</label>
                <input type="text" class="form-control" id="phoneNumber" name="phoneNumber" required placeholder="Số điện thoại..." />
            </div>
            <button type="submit" class="btn btn-success">Lưu</button>
            <button type="button" class="btn btn-secondary" onclick="hideAddAddressForm()">Hủy</button>
        </form>
    </div>

    <!-- Modal for changing address -->
    <div id="addressModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h5>Chọn địa chỉ</h5>
            <ul style="list-style-type: none;">
                <li th:each="address, iterStat  : ${addressResponses}" style="margin-bottom: 10px;">
                    <a href="javascript:void(0)" class="select-address"
                       th:data-fullname="${address.getFullName()}"
                       th:data-phone="${address.getPhoneNumber()}"
                       th:data-ward="${address.getWard()}"
                       th:data-district="${address.getDistrict()}"
                       th:data-city="${address.getCity()}">
                        <strong th:text="${iterStat.index + 1} + ' ' + ${address.getFullName()} + ' * ' + ${address.getPhoneNumber()}"></strong>
                        <span th:text="${address.getWard()} + ', ' + ${address.getDistrict()}  + ', ' + ${address.getCity()}"></span>
                    </a>
                </li>
            </ul>
        </div>
    </div>

    <div class="table-responsive">
        <table class="table table-borderless">
            <thead>
            <tr>
                <th style="width: 10px"></th>
                <th class="product-column">Sản phẩm</th>
                <th class="number-column" >Đơn giá</th>
                <th class="number-column">Số lượng</th>
                <th class="total-column">Thành tiền</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="orderItem, index : ${orderItemResponses}">
                <td th:text="${index.index + 1}"></td>
                <td>
                    <div class="d-flex align-items-center">
                        <img th:src="${productDetails[index.index].getUrl()}" class="img-fluid img-thumbnail" alt="Sản phẩm" style="width: 100px; height: auto;">
                        <div class="ms-3">
                            <h6 th:text="${productDetails[index.index].getName()}"></h6>
                        </div>
                    </div>
                </td>
                <td class="number-column">
                    <sup>₫</sup><span th:text="${#numbers.formatDecimal(productDetails[index.index].getPromotionalPrice(), 0, 'POINT', 0, 'COMMA')}"></span>
                </td>
                <td class="number-column">
                    <span th:text="${orderItem.getQuantity()}"></span>
                </td>
                <td class="number-column">
                    <sup>₫</sup><span th:text="${#numbers.formatDecimal(orderItem.getSubtotal(), 0, 'POINT', 0, 'COMMA')}"></span>
                </td>
            </tr>
            <!--
            <tr>
                <td>
                </td>
                <td>
                    <div class="d-flex align-items-center">
                        <img src="https://down-vn.img.susercontent.com/file/24e4f5d3f3ffdeffcddae14e5545f7eb_tn" class="img-fluid img-thumbnail" alt="Sản phẩm 2" style="width: 100px; height: auto;">
                        <div class="ms-3">
                            <h6>Quần đùi nam thể thao quần short hàng xuất cao cấp phong cách trẻ trung năng động T80</h6>
                        </div>
                    </div>
                </td>
                <td class="number-column">
                    <sup>₫</sup><span>90.000</span>
                </td>
                <td class="number-column">
                    <span>2</span>
                </td>
                <td class="number-column">
                    <sup>₫</sup><span>180.000</span>
                </td>
            </tr>
            <tr>
                <td>
                </td>
                <td>
                    <div class="d-flex align-items-center">
                        <img src="https://down-vn.img.susercontent.com/file/vn-11134207-7r98o-lpgaocnr7ryze5_tn" class="img-fluid img-thumbnail" alt="Sản phẩm 2" style="width: 100px; height: auto;">
                        <div class="ms-3">
                            <h6>Quần kẻ sọc nữ CARO nam nữ lưng cao dáng rộng phong cách Hàn Quốc CAMASTORE QK06</h6>
                        </div>
                    </div>
                </td>
                <td class="number-column">
                    <sup>₫</sup><span>79.000</span>
                </td>
                <td class="number-column">
                    <span>1</span>
                </td>
                <td class="number-column">
                    <sup>₫</sup><span>79.000</span>
                </td>
            </tr>
            <tr>
                <td>
                </td>
                <td>
                    <div class="d-flex align-items-center">
                        <img src="https://down-vn.img.susercontent.com/file/1a2793f8325d452bb561d06ac94bc98f_tn" class="img-fluid img-thumbnail" alt="Sản phẩm 2" style="width: 100px; height: auto;">
                        <div class="ms-3">
                            <h6>Đồ bộ thể thao nam mặc hè xuyên biên giới, Chất thun cotton thấm hút mồ hôi cực tốt Kiểu dáng Slim Fit siêu đẹp DB37</h6>
                        </div>
                    </div>
                </td>
                <td class="number-column">
                    <sup>₫</sup><span>69.000</span>
                </td>
                <td class="number-column">
                    <span>1</span>
                </td>
                <td class="number-column">
                    <sup>₫</sup><span>69.000</span>
                </td>
            </tr>
            -->
            </tbody>
        </table>
    </div>

    <div class="table-responsive" style="margin-bottom: 10px;">
        <div class="address-class">
            <div style="margin: 5px; display: flex; gap: 50px;">
                <h5 style="margin-bottom: 20px;">
                    Phương thức thanh toán
                </h5>
                <div class="color-buttons">
                    <button onclick="selectColor(this)">
                        <img class="method-icon" src="https://salt.tikicdn.com/ts/upload/92/b2/78/1b3b9cda5208b323eb9ec56b84c7eb87.png" width="32" height="32" alt="icon"> Thanh toán khi nhận hàng
                    </button>
                    <button onclick="selectColor(this)">
                        <img class="method-icon" src="https://salt.tikicdn.com/ts/upload/ce/f6/e8/ea880ef285856f744e3ffb5d282d4b2d.jpg" width="32" height="32" alt="icon"> Ví Momo
                    </button>
                    <button onclick="selectColor(this)">
                        <img class="method-icon" src="https://salt.tikicdn.com/ts/upload/77/6a/df/a35cb9c62b9215dbc6d334a77cda4327.png" width="32" height="32" alt="icon"> VNPAY
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="d-flex justify-content-end">
        <div>
            <p>
                <span th:text="'Tổng thanh toán (' + ${orderResponse.getTotalItem()} +' sản phẩm): '"></span>
                <strong style="color:red;">
                    <sup style="font-size: 20px;vertical-align: text-bottom">₫</sup>
                    <span th:text="${#numbers.formatDecimal(orderResponse.getTotal(), 0, 'POINT', 0, 'COMMA')}"></span>
                </strong>
            </p>
            <form id="orderForm" th:action="@{/order/confirmOrder}" method="post">
                <input type="hidden" id="id" name="id" th:value="${orderResponse.getId()}" /> <!-- Thay đổi giá trị của idAddress theo địa chỉ được chọn -->
                <input type="hidden" id="idAddress" name="idAddress" value="1" /> <!-- Thay đổi giá trị của idAddress theo địa chỉ được chọn -->
                <input type="hidden" id="paymentType" name="paymentType" value="Thanh toán khi nhận hàng" /> <!-- Thay đổi giá trị của paymentType theo phương thức thanh toán được chọn -->
                <button type="submit" class="btn buy-now" style="width: 350px; font-size: 18px">Đặt hàng</button>
            </form>
        </div>
    </div>


    <script src="https://kit.fontawesome.com/a076d05399.js"></script>

    <!--End: Content-->
    <div class="overlay" id="formOverlay">
        <div class="container" style="width: 600px; height: 800px">
            <div class="registration-form">
                <h2>Đăng Ký</h2>
                <form id="registrationForm" method="post" th:action="@{/register}">
                    <div class="col-md-12 form-group">
                        <div
                                id="errorMessage"
                                th:if="${message}"
                                class="alert alert-success"
                                role="alert"
                                th:text="${message}"
                        ></div>
                        <div
                                id="errorMessage1"
                                th:if="${errorMessage}"
                                class="alert alert-danger"
                                role="alert"
                                th:text="${errorMessage}"
                        ></div>
                    </div>
                    <div class="form-group mb-3">
                        <label for="fullNamee">Họ và Tên</label>
                        <input
                                type="text"
                                class="form-control"
                                placeholder="Họ và tên"
                                id="fullNamee"
                                name="name"
                                required
                        />
                    </div>
                    <div class="form-group mb-3">
                        <label for="email">Email</label>
                        <input
                                type="email"
                                class="form-control"
                                placeholder="Email"
                                id="email"
                                name="email"
                                required
                        />
                    </div>
                    <div class="form-group mb-3">
                        <label for="dob">Ngày Tháng Năm Sinh</label>
                        <input
                                style="background: white"
                                type="date"
                                class="form-control"
                                placeholder="Ngày tháng năm sinh"
                                id="dob"
                                name="dob"
                                required
                        />
                    </div>
                    <div class="form-group mb-3">
                        <label for="address">Địa Chỉ</label>
                        <input
                                type="text"
                                class="form-control"
                                placeholder="Địa chỉ"
                                id="address"
                                name="address"
                                required
                        />
                    </div>
                    <div class="form-group mb-3">
                        <label for="phone">Số Điện Thoại</label>
                        <input
                                type="tel"
                                class="form-control"
                                placeholder="Số điện thoại"
                                id="phone"
                                name="phoneNumber"
                                pattern="[0-9]{10}"
                                required
                        />
                    </div>
                    <div class="form-group mb-3">
                        <label for="gender">Giới Tính</label>
                        <select
                                style="cursor: pointer"
                                class="form-control"
                                id="gender"
                                name="gender"
                                required
                        >
                            <option value="">Chọn giới tính</option>
                            <option value="male">Nam</option>
                            <option value="female">Nữ</option>
                            <option value="other">Khác</option>
                        </select>
                    </div>
                    <br />
                    <button type="submit" class="btn btn-custom w-100">
                        ĐĂNG KÝ
                    </button>
                </form>
            </div>
        </div>
    </div>

    <div class="overlay" id="formOverlayLogin">
        <div class="container" style="width: 600px; height: 800px">
            <div class="registration-form">
                <h2>Đăng nhập</h2>
                <form class="row login_form" method="post" th:action="@{/login}">
                    <div class="col-md-12 form-group">
                        <div
                                id="errorMessage2"
                                th:if="${message}"
                                class="alert alert-success"
                                role="alert"
                                th:text="${message}"
                        ></div>
                        <div
                                id="errorMessage3"
                                th:if="${errorMessage}"
                                class="alert alert-danger"
                                role="alert"
                                th:text="${errorMessage}"
                        ></div>
                    </div>
                    <div class="form-group mb-3">
                        <input
                                style="font: caption"
                                type="text"
                                id="username"
                                class="form-control"
                                name="username"
                                placeholder="Email ..."
                                onfocus="this.placeholder = ''"
                                onblur="this.placeholder = 'Email ...'"
                                required
                        />
                    </div>
                    <div class="form-group mb-3">
                        <div class="password-input-wrapper">
                            <input
                                    type="password"
                                    id="password"
                                    class="form-control"
                                    name="password"
                                    placeholder="Mật khẩu ..."
                                    onfocus="this.placeholder = ''"
                                    onblur="this.placeholder = 'Mật khẩu ...'"
                                    required
                            />
                            <span
                                    class="toggle-password"
                                    onclick="togglePasswordVisibility('password')"
                            ><i class="fa fa-eye"></i
                            ></span>
                        </div>
                    </div>
                    <a style="padding: 0px 20px;" href="/forgotPassword">Quên mật khẩu ?</a>
                    <br>
                    <div class="col-md-12 form-group">
                        <br>
                        <button type="submit" class="btn btn-custom w-100">ĐĂNG NHẬP</button>

                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="clearfix"></div>
</div>
<!--Begin: Footer-->
<div
        style="display: flow-root; background: #00aced"
        th:replace="~{common/footer :: footer}"
></div>
<!--End: Footer-->

<script>
    $(document).ready(function () {
        $('.add').click(function () {
            $('#address-form').css('display', 'block'); // Hiển thị form
        });

        // Hàm ẩn form
        window.hideAddAddressForm = function () {
            $('#address-form').css('display', 'none'); // Ẩn form
        };
    });
</script>

<script>
    $(document).ready(function () {
        // Handle address selection
        $(document).on('click', '.select-address', function () {
            var fullName = $(this).data('fullname');
            var phone = $(this).data('phone');
            var ward = $(this).data('ward');
            var district = $(this).data('district');
            var city = $(this).data('city');

            $('#default-fullname').text(fullName + ' * ' + phone);
            $('#default-address-detail').text(ward + ', ' + district + ', ' + city);

            modal.style.display = "none";
        });

        // Ẩn thông báo sau 5 giây
        setTimeout(function() {
            const messageAlert = document.getElementById('messageAlert');
            if (messageAlert) {
                messageAlert.classList.add('hide');
            }
            const errorAlert = document.getElementById('errorAlert');
            if (errorAlert) {
                errorAlert.classList.add('hide');
            }
        }, 5000); // 5000 milliseconds = 5 seconds
    });

    function incrementQuantity() {
        const quantityInput = document.getElementById('quantity-input');
        let quantity = parseInt(quantityInput.value);
        quantityInput.value = quantity + 1;
    }

    function decrementQuantity() {
        const quantityInput = document.getElementById('quantity-input');
        let quantity = parseInt(quantityInput.value);
        if (quantity > 1) {
            quantityInput.value = quantity - 1;
        }
    }
</script>
<script>
    function selectColor(button) {
        var colorButtons = document.querySelectorAll('.color-buttons button');
        colorButtons.forEach(function(btn) {
            btn.classList.remove('selected');
        });
        button.classList.add('selected');
    }

</script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const productsPerPage = 16;
        const productContainer = document.getElementById("product-container");
        const paginationContainer = document.getElementById("pagination");

        const products = Array.from(productContainer.children);
        const totalPages = Math.ceil(products.length / productsPerPage);
        let currentPage = 1;

        function showPage(page) {
            if (page < 1) page = 1;
            if (page > totalPages) page = totalPages;

            const start = (page - 1) * productsPerPage;
            const end = start + productsPerPage;

            products.forEach((product, index) => {
                product.style.display = index >= start && index < end ? "block" : "none";
            });

            currentPage = page;
            updatePagination();
        }

        function createPagination() {
            const prevButton = document.createElement("button");
            prevButton.innerHTML = "&laquo;";
            prevButton.classList.add("prev");
            prevButton.addEventListener("click", () => showPage(currentPage - 1));
            paginationContainer.appendChild(prevButton);

            const nextButton = document.createElement("button");
            nextButton.innerHTML = "&raquo;";
            nextButton.classList.add("next");
            nextButton.addEventListener("click", () => showPage(currentPage + 1));
            paginationContainer.appendChild(nextButton);

            updatePagination();
        }

        function updatePagination() {
            const buttons = Array.from(paginationContainer.children);
            const prevButton = buttons[0];
            const nextButton = buttons[buttons.length - 1];

            prevButton.classList.toggle("disabled", currentPage === 1);
            nextButton.classList.toggle("disabled", currentPage === totalPages);

            // Clear current pagination buttons except prev and next
            buttons.forEach((button, index) => {
                if (index !== 0 && index !== buttons.length - 1) {
                    button.remove();
                }
            });

            let buttonHTML = '';

            if (currentPage > 2) {
                buttonHTML += `<button data-page="1">1</button>`;
            }

            if (currentPage > 3) {
                buttonHTML += `<span class="ellipsis">...</span>`;
            }

            for (let i = Math.max(1, currentPage - 1); i <= Math.min(totalPages, currentPage + 1); i++) {
                buttonHTML += `<button data-page="${i}" ${i === currentPage ? 'class="active"' : ''}>${i}</button>`;
            }

            if (currentPage < totalPages - 2) {
                buttonHTML += `<span class="ellipsis">...</span>`;
            }

            if (currentPage < totalPages - 1) {
                buttonHTML += `<button data-page="${totalPages}">${totalPages}</button>`;
            }

            nextButton.insertAdjacentHTML('beforebegin', buttonHTML);

            // Add event listeners to the new buttons
            Array.from(paginationContainer.querySelectorAll('button')).forEach(button => {
                button.addEventListener('click', (e) => {
                    const page = parseInt(e.target.dataset.page);
                    if (!isNaN(page)) {
                        showPage(page);
                    }
                });
            });
        }

        createPagination();
        showPage(currentPage);
    });

</script>
<script>
    function togglePasswordVisibility(inputId) {
        var input = document.getElementById(inputId);
        var icon = input.nextElementSibling.querySelector("i");

        if (input.type === "password") {
            input.type = "text";
            icon.classList.remove("fa-eye");
            icon.classList.add("fa-eye-slash");
        } else {
            input.type = "password";
            icon.classList.remove("fa-eye-slash");
            icon.classList.add("fa-eye");
        }
    }
</script>

<script>
    // Chọn ô input bằng id và áp dụng Flatpickr
    const dateOfBirthInput = document.getElementById("dob");
    flatpickr(dateOfBirthInput, {
        dateFormat: "Y-m-d H:i:S", // Định dạng ngày/tháng/năm (có thể tùy chỉnh)
        maxDate: "today", // Chỉ cho phép chọn ngày trong tương lai
        // defaultDate: 'today' // Đặt ngày mặc định là ngày hiện tại
    });
</script>

<script>
    // Add User
    const showFormButton = document.getElementById("showFormButton");
    const formOverlay = document.getElementById("formOverlay");

    showFormButton.addEventListener("click", function () {
        formOverlay.style.display = "flex"; // Hiển thị overlay
    });

    formOverlay.addEventListener("click", function (e) {
        if (e.target === formOverlay) {
            formOverlay.style.display = "none"; // Ẩn overlay nếu bấm ra ngoài
        }
    });

    formOverlay
        .querySelector(".container")
        .addEventListener("click", function (e) {
            e.stopPropagation(); // Ngăn không đóng overlay khi bấm vào form
        });
</script>

<script>
    const showFormButtonLogin = document.getElementById(
        "showFormButtonLogin"
    );
    const formOverlayLogin = document.getElementById("formOverlayLogin");

    showFormButtonLogin.addEventListener("click", function () {
        formOverlayLogin.style.display = "flex"; // Hiển thị overlay
    });

    formOverlayLogin.addEventListener("click", function (e) {
        if (e.target === formOverlayLogin) {
            formOverlayLogin.style.display = "none"; // Ẩn overlay nếu bấm ra ngoài
        }
    });

    formOverlayLogin
        .querySelector(".container")
        .addEventListener("click", function (e) {
            e.stopPropagation(); // Ngăn không đóng overlay khi bấm vào form
        });
</script>
</body>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
</html>
